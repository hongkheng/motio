/*! motio 2.2.2 - 8th Jun 2015 | https://github.com/darsain/motio */
(function(k,v){"function"===typeof define&&define.amd?define([],function(){return k.Motio=v()}):"object"===typeof exports?module.exports=v():k.Motio=v()})(this,function(){(function(k,v){function m(a,F){function l(c){d.reversed=c;u||(b.isPaused=!1,A("play"),u=x(m))}function m(){u=x(m);var c=G();60>g.fps&&d.lastFrame&&d.lastFrame+1E3/g.fps+1>c||(d.lastFrame=c,y?(h.x+=g.speedX/g.fps,h.y+=g.speedY/g.fps,g.bgWidth&&Math.abs(h.x)>g.bgWidth&&(h.x%=g.bgWidth),g.bgHeight&&Math.abs(h.y)>g.bgHeight&&(h.y%=g.bgHeight)):
(d.finite?n=d.immediate?d.to:n+(n>d.to?-1:1):d.reversed?0>=--n&&(n=r.length-1):++n>=r.length&&(n=0),b.frame=n),B=y?Math.round(h.x)+"px "+Math.round(h.y)+"px":r[n],B!==D&&(a.style.backgroundPosition=D=B),A("frame"),d.finite&&d.to===n&&(b.pause(),"function"===q(d.callback)&&d.callback.call(b)))}function E(c,b){t=0;for(z=p[c].length;t<z;t++)if(p[c][t]===b)return t;return-1}function A(c,a){if(p[c])for(t=0,z=p[c].length;t<z;t++)p[c][t].call(b,c,a)}function C(c){return k.getComputedStyle?k.getComputedStyle(a,
null)[c]:a.currentStyle[c]}var g=H(F),b=this,y=!g.frames,r=[],p={},d={},n=0,h,B,D,u,t,z;b.element=a;b.width=g.width||a.clientWidth;b.height=g.height||a.clientHeight;b.options=g;b.isPaused=!0;b.pause=function(){w(u);u=0;d.lastFrame=0;b.isPaused||(b.isPaused=!0,A("pause"));return b};b.play=function(c){d.finite=!1;d.callback=v;d.immediate=!1;l(c);return b};b.toggle=function(){b[u?"pause":"play"]();return b};b.toStart=function(c,a){return b.to(0,c,a)};b.toEnd=function(c,a){return b.to(r.length-1,c,a)};
b.to=function(c,a,e){var f;(f=y)||(f=!(!isNaN(parseFloat(c))&&isFinite(c)));if(f||0>c||c>=r.length)return b;"function"===q(a)&&(e=a,a=!1);if(c===n)if(0===c)n=r.length;else if(c===r.length-1)n=-1;else return"function"===q(e)&&e.call(b),b.pause(),b;d.finite=!0;d.to=c;d.immediate=!!a;d.callback=e;l();return b};b.set=function(c,a){g[c]=a;return b};b.on=function(c,a){if("object"===q(c))for(var e in c){if(c.hasOwnProperty(e))b.on(e,c[e])}else if("function"===q(a)){e=c.split(" ");for(var f=0,d=e.length;f<
d;f++)p[e[f]]=p[e[f]]||[],-1===E(e[f],a)&&p[e[f]].push(a)}else if("array"===q(a))for(e=0,f=a.length;e<f;e++)b.on(c,a[e]);return b};b.off=function(a,d){if(d instanceof Array)for(var e=0,f=d.length;e<f;e++)b.off(a,d[e]);else for(var e=a.split(" "),f=0,g=e.length;f<g;f++)if(p[e[f]]=p[e[f]]||[],"undefined"===q(d))p[e[f]].length=0;else{var h=E(e[f],d);-1!==h&&p[e[f]].splice(h,1)}return b};b.destroy=function(){b.pause();a.style.backgroundPosition="";return b};(function(){var a=(C("backgroundPosition")||
C("backgroundPositionX")+" "+C("backgroundPositionY")).replace(/left|top/gi,0).split(" ");h={x:0|parseInt(a[0],10),y:0|parseInt(a[1],10)};if(y)b.pos=h;else{for(a=r.length=0;a<g.frames;a++)g.vertical?h.y=a*-b.height:h.x=a*-b.width,r.push(h.x+"px "+h.y+"px");b.frames=r.length;b.frame=0}})()}function q(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?a instanceof k.NodeList&&"nodelist"||a instanceof k.HTMLCollection&&"htmlcollection"||Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase():
typeof a}function H(a){var k={};a="object"===q(a)?a:{};for(var l in m.defaults)k[l]=(a.hasOwnProperty(l)?a:m.defaults)[l];return k}var w=k.cancelAnimationFrame||k.cancelRequestAnimationFrame,x=k.requestAnimationFrame;(function(){for(var a=["moz","webkit","o"],q=0,l=0,m=a.length;l<m&&!w;++l)x=(w=k[a[l]+"CancelAnimationFrame"]||k[a[l]+"CancelRequestAnimationFrame"])&&k[a[l]+"RequestAnimationFrame"];w||(x=function(a){var l=+new Date,m=Math.max(0,16-(l-q));q=l+m;return k.setTimeout(function(){a(l+m)},
m)},w=function(a){clearTimeout(a)})})();var G=function(){var a=k.performance;return a&&a.now?a.now.bind(a):function(){return+new Date}}();k.Motio=m;m.defaults={fps:15,frames:0,vertical:0,width:0,height:0,speedX:0,speedY:0,bgWidth:0,bgHeight:0}})(window);return Motio});
